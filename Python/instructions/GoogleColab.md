# Особенности работы с Google Colab

Как правило, в рамках данного курса предполагается использование _Google Colab_ в качестве среды разработки.

Это средство обладает рядом особенностей, которые описаны в данном документе.

## Работа с ячейками

В _Google Collab_ код следует записывать в отдельные **ячейки**. При этом важно заметить, что переменные, созданные в каких-то ячейках ранее, **могут сохраняться до перезагрузки страницы Google Colab**.

Рассмотрим такую ситуацию.

Допустим, мы создали ячейку, задали переменную с именем `sum` и запустили получившийся код:

<div align="center">
<img width="400" alt="copy on disk" src="Images/GoogleCollab_1.png">
</div>

После этого мы захотели изменить код в этой ячейке и решили задать некоторый список `lst` и посчитать сумму его элементов с помощью стандартной функции `sum()`. Мы получим такую ошибку после попытки запуска:

<div align="center">
<img width="400" alt="copy on disk" src="Images/GoogleCollab_2.png">
</div>

***Почему так произошло?***

Потому что _Google Collab_ **уже связал имя `sum` со старой переменной**, значение которой стало равным 1 после предыдущего запуска данной ячейки.

И теперь он пытается использовать число как функцию. Но это невозможно. Отсюда возникает такая ошибка.

### Способы исправления ошибки

Для исправления подобных ошибок следует выполнить следующие 2 пункта:

1. Перезагрузить в браузере страницу с _Google Collab_.
2. Стараться **не называть** обычные переменные именами, которые совпадают с зарезервированными именами (они обычно подсвечиваются коричневым: `sum`, `len` и т.д.).

## Загрузка файлов

Часто в домашних заданиях требуется работа с файлами. Однако, _Google Collab_ позволяет работать только с теми файлами, которые сохранены на сервере.

Для загрузки данных на сервер нужно выполнить следующие операции:

1. Нажать в меню слева на иконку папки (отмечена красным кружком):

<div align="center">
<img width="400" alt="copy on disk" src="Images/GoogleCollab_3.png">
</div>

2. В появившемся окне нажать **«Загрузить в сессионное хранилище»**:

<div align="center">
<img width="400" alt="copy on disk" src="Images/GoogleCollab_4.png">
</div>

3. В появившемся окне указать путь к необходимому файлу на своём компьютере.
4. Вы увидите предупреждение о том, что загруженные файлы будут удалены при перезапуске этой среды выполнения. Это значит, что после перезагрузки страницы нужно будет снова загружать файл. В этом предупреждении нужно нажать **«OK»**.
5. После этого в списке файлов появится загруженный файл (в нашем случае это `input.txt`):

<div align="center">
<img width="400" alt="copy on disk" src="Images/GoogleCollab_5.png">
</div>

6. Теперь можно обращаться к указанному файлу по его имени, которое указано в списке файлов:

<div align="center">
<img width="400" alt="copy on disk" src="Images/GoogleCollab_6.png">
</div>

Мы видим, что на экран вывелась строка *"test"* – содержимое файла `input.txt`.

## Работа с ссылками на Google-диск

Иногда, файлы, с которыми нужно работать, могут лежать не на компьютере, а в различных облачных хранилищах. В таком случае приходится сначала скачивать файл к себе на компьютер, а затем загружать его в хранилище Google Colab. Это требует некоторого дополнительного времени.

В случае с Google-диском, можно избежать лишних операций и загрузить файл непосредственно в хранилище Google Colab с помощью специального кода.

Для этого нужно выполнить следующие действия:

1. Открыть необходимый файл на Google-диске. Сверху в браузере можно увидеть ссылку на этот файл. Допустим ссылка выглядит следующим образом: https://drive.google.com/file/d/1WC6xdwubpBF9iKPHP13IhbmuFZR1qJ42/view?usp=sharing 
2. Внутри ссылки спрятан уникальный идентификатор документа (id) - он однозначно помогает найти файл в хранилище Google диск. Он нам и потребуется.
3. Идентификатор расположен внутри ссылки между: *"/d/"* и *"/view"*. Т.е. в нашем случае id=1WC6xdwubpBF9iKPHP13IhbmuFZR1qJ42. 
4. В Google Colab в свободную ячейку вводим команду:
```
wget -O <filename> "https://drive.google.com/uc?id=<document_id>&export=download"
```
Здесь вместо <document_id> нужно вставить тот самый идентификатор документа id, который мы нашли в предыдущем пункте.
<filename> - это имя, под которым скачанный файл будет сохранён в хранилище Google Colab.
5. В нашем случае команда загрузки файла будет выглядеть следующим образом:

```
wget -O input.txt "https://drive.google.com/uc?id=1WC6xdwubpBF9iKPHP13IhbmuFZR1qJ42&export=download"
```
6. После выполнения указанной команды файл автоматически будет загружен из хранилища Google-диск и разместится в хранилище Google Colab как обычный файл с именем, которое было указано в параметре <filename> (в нашем случае это `input.txt`).
